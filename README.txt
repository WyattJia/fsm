~ 有限状态机最小实现，减少不必要的 if-else 。
